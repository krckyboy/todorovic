---
import { Image } from 'astro:assets';
import type { ImageMetadata } from 'astro';
import styles from './AuthorCard.module.css';
import defaultAvatar from '../../../assets/images/dusan.png';

interface Props {
  name?: string;
  title?: string;
  bio?: string;
  avatarSrc?: ImageMetadata;
  avatarAlt?: string;
}

const {
  name = 'Dušan Todorović',
  title = 'Software Engineer & Team Lead',
  bio = 'Software Engineer & Team Lead focused on fast, accessible, and maintainable web products.',
  avatarSrc = defaultAvatar,
  avatarAlt = 'Portrait of Dušan Todorović',
} = Astro.props;

const socialLinks = [
  {
    href: 'https://www.linkedin.com/in/dusan-todorovic-krcky/',
    label: 'LinkedIn',
    external: true,
  },
  {
    href: 'mailto:dusan.todorovic.dev@gmail.com',
    label: 'Email',
    external: false,
  },
];
---

<section class={styles.card} aria-label="About the author">
  <Image
    src={avatarSrc}
    alt={avatarAlt}
    class={styles.avatar}
    width={80}
    height={80}
    loading="lazy"
  />
  <div class={styles.content}>
    <a href="/" class:list={[styles.name, 'u-heading-lg-semibold']}>{name}</a>
    <p class={styles.title}>{title}</p>
    <p class={styles.bio}>{bio}</p>
    <ul class={styles.socialLinks}>
      {
        socialLinks.map(({ href, label, external }) => (
          <li>
            <a
              href={href}
              class={styles.socialLink}
              target={external ? '_blank' : undefined}
              rel={external ? 'noopener noreferrer' : undefined}
            >
              {label}
            </a>
          </li>
        ))
      }
    </ul>
  </div>
</section>
