---
import styles from './SearchButton.module.css';
---

<button
  type="button"
  class={styles.button}
  id="search-button"
  aria-label="Search site"
  aria-haspopup="dialog"
>
  <svg class={styles.icon} xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
  </svg>
  <span class={styles.shortcut} id="search-shortcut">
    <kbd>Cmd</kbd>+<kbd>K</kbd>
  </span>
</button>

<script is:inline>
  const shortcutSpan = document.getElementById('search-shortcut');
  if (shortcutSpan) {
    const isMac = navigator.platform.toUpperCase().indexOf('MAC') >= 0;
    shortcutSpan.innerHTML = isMac
      ? '<kbd>Cmd</kbd>+<kbd>K</kbd>'
      : '<kbd>Ctrl</kbd>+<kbd>K</kbd>';
  }
</script>
